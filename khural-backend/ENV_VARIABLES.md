# Переменные окружения для сервера

Проект использует следующие переменные окружения:

## Обязательные переменные

### Сервер
- `PORT` - Порт для HTTP сервера (по умолчанию: 4000)
- `WSS_PORT` - Порт для WebSocket сервера (если используется)

### База данных PostgreSQL
- `DB_HOST` - Хост базы данных
- `DB_PORT` - Порт базы данных
- `DB_USER` - Пользователь базы данных
- `DB_PASSWORD` - Пароль базы данных
- `DB_NAME` - Имя базы данных

### JWT Аутентификация
- `SECRET` - Секретный ключ для подписи JWT токенов (обязательно!)
- `ACCESS_TOKEN_TTL` - Время жизни access token в минутах (по умолчанию: 60)
- `KEY` - Дополнительный ключ (если используется)

### CDN и файлы
- `CDN` - URL CDN для доступа к загруженным файлам
- `UPLOAD_PATH` - Путь для загрузки файлов на сервере

## Опциональные переменные

Следующие переменные опциональны и используются только если соответствующие функции включены:

### Email (SMTP)
- `SMTP_HOST` - SMTP сервер
- `SMTP_PORT` - Порт SMTP
- `SMTP_SECURE` - Использовать TLS (true/false)
- `SMTP_USER` - Пользователь SMTP
- `SMTP_PASS` - Пароль SMTP
- `SMTP_FROM` - Email отправителя

### Социальные сети
- `AUTO_EXPORT_NEWS` - Автоматический экспорт новостей в соцсети (true/false)
- `VK_ACCESS_TOKEN` - Токен доступа ВКонтакте
- `VK_GROUP_ID` - ID группы ВКонтакте
- `TELEGRAM_BOT_TOKEN` - Токен Telegram бота
- `TELEGRAM_CHAT_ID` - ID чата Telegram
- `FRONTEND_URL` - URL фронтенд приложения (для ссылок в соцсетях)

### Бэкапы
- `AUTO_BACKUP_ENABLED` - Включить автоматические бэкапы (true/false)
- `BACKUP_CRON` - Расписание бэкапов в формате cron
- `BACKUP_DIR` - Директория для хранения бэкапов (по умолчанию: ./backups)

## Пример .env файла

```env
PORT=3004
WSS_PORT=6000

DB_HOST=localhost
DB_PORT=5532
DB_USER=admin
DB_PASSWORD==Gps4Q8/0T5ydHz7
DB_NAME=khural

SECRET=SEJ5cntLA8mpUDzn6HRl8y5rvx0I0m0u
KEY=dkgcnMRtfdh82Qe5idWIE1wZdu4fTiIf
ACCESS_TOKEN_TTL=20

CDN=http://localhost:3000/
UPLOAD_PATH=/var/www/khural/khural-backend/uploads
```

## Примечания

- Все переменные, не указанные в обязательных, являются опциональными
- Если опциональные переменные не заданы, соответствующие функции будут отключены или использовать значения по умолчанию
- Переменная `KEY` может использоваться для дополнительных целей, но в текущей версии кода не используется
- Переменная `WSS_PORT` может использоваться для WebSocket сервера, но в текущей версии кода не используется
