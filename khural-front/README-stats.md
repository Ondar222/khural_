# Обновление статистики по созывам

## Назначение

Скрипт `build-stats.cjs` автоматически собирает статистику по созывам из JSON файлов в папках:
- `public/persons_info/deputaty_vseh_sozyvov.json` - информация о депутатах
- `public/persons_doc/zakony.json` - принятые законы
- `public/persons_doc/postamovleniya_VH.json` - постановления Верховного Хурала

## Как использовать

### Обновить статистику

Запустите скрипт из корня проекта `khural-front`:

```bash
node build-stats.cjs
```

Скрипт создаст/обновит файл `public/data/convocations.json` со следующей информацией для каждого созыва:
- Количество депутатов
- Количество принятых законов
- Количество постановлений
- Описание созыва

### Где используется

Данные из `convocations.json` используются на странице `/convocations` (`src/pages/Convocations.jsx`).

## Структура данных

Каждый созыв содержит:

```json
{
  "id": "I",
  "name": "Первый созыв (2010 - 2014 гг.)",
  "number": "I",
  "years": "2010-2014",
  "isActive": false,
  "description": "34 депутатов. Принято 2 законов и 0 постановлений.",
  "stats": {
    "deputies": 34,
    "laws": 2,
    "resolutions": 0
  }
}
```

## Когда обновлять

Запускайте скрипт после:
- Добавления новых депутатов в `deputaty_vseh_sozyvov.json`
- Добавления новых законов в `zakony.json`
- Добавления новых постановлений в `postamovleniya_VH.json`
- Начала нового созыва

## Логика распределения документов по созывам

Документы распределяются по созывам на основе даты:
- **Первый созыв (I)**: 2010-2014
- **Второй созыв (II)**: 2014-2019
- **Третий созыв (III)**: 2019-2024
- **Четвертый созыв (IV)**: 2024-н.в.
- **Седьмой созыв (VII)**: текущий действующий (с сайта)

Дата берется из полей:
- `IP_PROP27` для законов
- `IP_PROP58` для постановлений
